
---
title: 《小菜的交易系统》-一个完整的简易的交易系统
tags: [交易系统, 交易]
categories:
  - [交易]
date: 2025-07-01
---

> 交易如烹饪，食材简单但搭配得当，味道才能惊艳。小菜的交易系统，旨在用最直白的逻辑，帮你抓住市场中的机会，同时把风险锁在可控范围。

在金融市场的混沌中，交易系统是你的航海图。无论你是初入市场的小白，还是摸爬滚打的老手，都需要一个清晰、简洁、可执行的交易系统。

今天的主人公是小菜，我们来聊聊“小菜的交易系统”。我们知道一个完整的交易系统需要包含：

- 趋势判断：是否可以考虑进行入场交易。不是所有的行情我们都需要参与的，我们只赚自己认知以内的（看得懂的）行情。
- 入场点位：什么时候应该买入。
- 仓位管理：买多少。
- 止盈止损设置：什么时候应该卖出。

小菜的交易系统自然也不例外，接下来我们详细介绍一下。

<!-- more -->

## 系统常量：风险控制的基石

在构建交易系统之前，我们需要定义几个核心常量。这些常量是系统运行的基础，确保每笔交易的风险可控且一致。

- **固定亏损**：每笔交易愿意承担的最大亏损金额，通常以账户总资金的百分比表示。  
  - **默认值**：账户资金的1%（例如，账户10万美元，固定亏损为1000美元）。  
  - **作用**：限制单笔交易的损失，保护账户长期存活。  
  - **调整建议**：根据账户规模和风险偏好调整，保守型交易者可设为0.5%，激进型可设为2%。

- **ATR倍数**：用于止损设置的波动倍数，基于平均真实波幅（ATR）。  
  - **默认值**：2。  
  - **作用**：根据市场波动性动态调整止损距离。  

这些常量贯穿整个交易系统，确保每一步决策都有据可依。

## 一、趋势判断：先看清市场在玩什么花样

市场的价格走势无非两种：趋势和震荡。小菜的交易系统首先要做的，就是搞清楚当前的市场属于哪一类。震荡行情如同嚼蜡，耗费时间和精力，小菜的目标是只在趋势行情中出手。

**工具：ADX + DMI**

ADX（平均趋向指数）和DMI（趋向指标）是判断趋势强度的经典组合。ADX衡量趋势的强度，而DMI中的+DI和-DI则告诉你趋势的方向。

- **ADX计算公式**：
  - **真实波幅（TR）**：TR = max(High - Low, |High - Close_prev|, |Low - Close_prev|)
  - **正向运动（+DM）**：+DM = High - High_prev（若High - High_prev > Low_prev - Low 且 > 0，否则为0）
  - **负向运动（-DM）**：-DM = Low_prev - Low（若Low_prev - Low > High - High_prev 且 > 0，否则为0）
  - **平滑处理**：计算n周期（通常为14）的平滑TR、+DM、-DM。
  - **+DI**：+DI = (平滑+DM / 平滑TR) × 100
  - **-DI**：-DI = (平滑-DM / 平滑TR) × 100
  - **DX**：DX = |(+DI - -DI) / (+DI + -DI)| × 100
  - **ADX**：DX的n周期平滑均值（通常为14）

- **变量说明**：
  - **High/Low/Close**：当期K线的最高价、最低价、收盘价。
  - **High_prev/Low_prev/Close_prev**：前一期K线的最高价、最低价、收盘价。
  - **n**：计算周期，通常设为14天。
  - **TR**：真实波幅，反映价格的实际波动范围。
  - **+DM/-DM**：正向/负向运动，衡量价格的单方向移动强度。

- **规则**：
  - ADX > 25：趋势行情成立，考虑交易。
  - ADX < 20：震荡行情，观望为主。
  - +DI > -DI：看多趋势，寻找买入机会。
  - -DI > +DI：看空趋势，寻找卖出机会。

**实战举例**：观察BTC/USD日线图，14周期ADX升至30，且+DI上穿-DI，说明市场进入上升趋势，可以准备寻找入场点。反之，若ADX跌至15，市场横盘震荡，暂停交易。

**小菜碎碎念**：ADX和DMI就像市场的体温计，先测测市场是“发烧”还是“平静”，别急着下场，冷静判断是第一步。

## 二、入场点位：什么价格入手才不亏

趋势确认后，下一步是找一个“好价”。小菜的交易系统用**锚定成交量分布图**（Volume Profile）来确定入场点位，并结合固定亏损和止损幅度计算开仓金额。

**工具：锚定成交量分布图**

成交量分布图展示了价格区间内的成交量分布，核心是找到“价值区域”（Value Area），即成交量集中的价格区间（通常覆盖68%的成交量）。价值区域的高点（VAH）和低点（VAL）是关键支撑和阻力位。

- **计算方法**：
  - 将价格区间划分为多个价格区间（bins）。
  - 统计每个价格区间的成交量，形成直方图。
  - **价值区域**：从成交量最高的点（POC，Point of Control）向上下扩展，直到覆盖68%的总成交量。
  - **VAH/VAL**：价值区域的上边界（VAH）和下边界（VAL）。
  - **POC**：成交量最大的价格水平，通常是市场认可的“公平价格”。

- **变量说明**：
  - **成交量**：指定时间段内（例如30天）的交易量数据。
  - **价格区间**：根据价格波动范围划分，通常以固定点数（如100美元）为单位。
  - **POC**：成交量峰值，反映市场最活跃的交易价格。

- **规则**：
  - 看多趋势：在VAL附近寻找买入机会，确认价格站稳后入场。
  - 看空趋势：在VAH附近寻找卖出机会，确认价格跌破后入场。

- **开仓金额计算**：
  - 公式：开仓金额 = 固定亏损 / 止损幅度
  - 止损幅度 = |入场价 - 止损价|（止损价在第四部分计算）。

**实战举例**：BTC当前价格在VAL（60000美元），止损价为58000美元，止损幅度为2000美元。账户总资金10万美元，固定亏损为1%（1000美元）。开仓金额 = 1000 / 2000 = 0.5 BTC，即买入0.5个BTC。

**小菜碎碎念**：入场点位就像买菜，挑对时机的白菜既新鲜又便宜。成交量分布图帮你找到市场认可的“公平价格”，再用公式控制风险，稳稳当当。

## 三、仓位管理：涨了卖，跌了补

交易不是一锤子买卖，仓位管理决定了你能在市场里活多久。小菜的交易系统用**斐波那契工具**规划加仓和减仓的节奏。

**工具：斐波那契回调与扩展**

斐波那契回调（Fibonacci Retracement）用来确定回调时的加仓点位，斐波那契扩展（Fibonacci Extension）用来寻找盈利时的减仓点位。

- **计算方法**：
  - **斐波那契回调**：
    - 选择一段趋势的起点（最低点）和终点（最高点）。
    - 计算价格区间：区间 = 最高点 - 最低点。
    - 关键回调水平：0.382 × 区间、0.618 × 区间，从最高点向下减。
  - **斐波那契扩展**：
    - 使用趋势起点、终点和回调点（例如0.618回调点）。
    - 计算扩展水平：1.272 × 区间、1.618 × 区间，从回调点向上加。

- **变量说明**：
  - **最高点/最低点**：趋势的起点和终点，通常从近期明显的高低点选取。
  - **回调点**：趋势回调的实际价格，用于计算扩展水平。
  - **0.382/0.618**：斐波那契黄金分割比例，反映市场心理支撑位。
  - **1.272/1.618**：扩展水平，预测价格潜在目标。

- **规则**：
  - **加仓**：价格回调至0.382或0.618水平，确认支撑有效后加仓。加仓金额按固定亏损公式计算。
  - **减仓**：价格上涨至1.272或1.618扩展水平，分批减仓，锁定利润。

**实战举例**：在60000美元买入0.5 BTC后，价格涨至65000美元，回调至0.618水平（62000美元）。在62000美元加仓0.2 BTC（按固定亏损计算）。价格突破至1.618扩展位（70000美元），卖出50%仓位，锁定利润。

**小菜碎碎念**：斐波那契就像市场的节拍器，告诉你什么时候该补货，什么时候该收手。别贪，循序渐进才能走得远。

## 四、止损设置：把风险锁在笼子里

止损是交易的生命线。小菜的交易系统用**ATR（平均真实波幅）**设置止损，确保风险可控且适应市场波动。

**工具：ATR**

ATR衡量市场的波动性，反映价格的“正常”波动范围。

- **计算公式**：
  - TR = max(High - Low, |High - Close_prev|, |Low - Close_prev|)
  - ATR = n周期TR的平滑均值（通常为14）。
  - 止损价 = 入场价 ± (ATR × 倍数)
  - 看多：止损价 = 入场价 - (ATR × 2)
  - 看空：止损价 = 入场价 + (ATR × 2)

- **变量说明**：
  - **TR**：真实波幅，反映单日价格波动。
  - **n**：计算周期，通常为14天。
  - **ATR倍数**：默认2倍，调整波动容忍度。

**实战举例**：BTC入场价60000美元，14天ATR为1500美元，设置2倍ATR止损。止损价 = 60000 - (1500 × 2) = 57000美元。若价格跌至57000美元，止损执行，亏损控制在固定金额（1000美元）。

**小菜碎碎念**：止损就像保险，买了不一定用，但没买绝对不行。ATR帮你根据市场脾气设置止损，既不宽松也不过紧。

## 总结：小菜的交易哲学

小菜的交易系统不是什么高深魔法，它的核心是**简单、可重复、可量化**。用ADX和DMI判断趋势，锚定成交量分布图找入场点，斐波那契工具管仓位，ATR设止损。四个步骤环环相扣，形成一个完整的交易闭环。

**关键原则**：
1. 只在趋势行情交易，震荡行情看戏。
2. 入场前算好风险，永远别让亏损失控。
3. 仓位管理要灵活，涨跌都有计划。
4. 止损是纪律，执行力比预测力更重要。

**最后叮嘱**：交易系统不是圣杯，市场永远有不确定性。小菜的交易系统只是给你一个框架，真正的考验在于你的执行力和心态。别指望一夜暴富，慢慢来，市场会奖励那些有耐心的人。

> 小菜碎碎念：交易就像种菜，选好种子（趋势），挑好时机（入场），细心照料（仓位管理），及时除虫（止损），才能收获满满一篮子。

